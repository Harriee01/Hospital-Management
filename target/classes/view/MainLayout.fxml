<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns:fx="http://javafx.com/fxml" fx:controller="com.hospital.controller.MainController">
    <center>
        <TabPane tabClosingPolicy="UNAVAILABLE">
            <tabs>
                <!-- Patients Tab -->
                <Tab text="Patients">
                    <content>
                        <BorderPane>
                            <top>
                                <HBox spacing="10" alignment="CENTER_LEFT" style="-fx-padding: 10;">
                                    <Label text="Search:"/>
                                    <TextField fx:id="searchField" promptText="Name or ID"/>
                                    <Button text="Search" onAction="#handleSearch"/>
                                    <Button text="Reset Search" onAction="#handleResetPatientSearch" style="-fx-base: #FF9800;"/>
                                </HBox>
                            </top>
                            <center>
                                <TableView fx:id="patientTable" onMouseClicked="#handleTableClick">
                                    <columns>
                                        <TableColumn fx:id="colId" text="ID" prefWidth="50"/>
                                        <TableColumn fx:id="colName" text="Name" prefWidth="150"/>
                                        <TableColumn fx:id="colDob" text="Date of Birth" prefWidth="100"/>
                                        <TableColumn fx:id="colContact" text="Contact" prefWidth="100"/>
                                    </columns>
                                </TableView>
                            </center>
                            <right>
                                <VBox spacing="10" style="-fx-padding: 10; -fx-background-color: #f4f4f4;">
                                    <Label text="Patient Details" style="-fx-font-weight: bold;"/>
                                    
                                    <Label text="Name:"/>
                                    <TextField fx:id="txtName"/>
                                    
                                    <Label text="Date of Birth:"/>
                                    <DatePicker fx:id="dateDob"/>
                                    
                                    <Label text="Contact:"/>
                                    <TextField fx:id="txtContact"/>
                                    
                                    <HBox spacing="10" alignment="CENTER">
                                        <Button text="Add" onAction="#handleAddPatient" style="-fx-base: #4CAF50;"/>
                                        <Button text="Update" onAction="#handleUpdatePatient" style="-fx-base: #2196F3;"/>
                                        <Button text="Delete" onAction="#handleDeletePatient" style="-fx-base: #F44336;"/>
                                    </HBox>
                                </VBox>
                            </right>
                        </BorderPane>
                    </content>
                </Tab>
                
                <!-- Doctors Tab -->
                <Tab text="Doctors">
                    <content>
                        <BorderPane>
                            <top>
                                <HBox spacing="10" alignment="CENTER_LEFT" style="-fx-padding: 10;">
                                    <Label text="Search:"/>
                                    <TextField fx:id="doctorSearchField" promptText="Name, Specialization, or ID"/>
                                    <Button text="Search" onAction="#handleDoctorSearch"/>
                                    <Button text="Reset Search" onAction="#handleResetDoctorSearch" style="-fx-base: #FF9800;"/>
                                </HBox>
                            </top>
                            <center>
                                <TableView fx:id="doctorTable" onMouseClicked="#handleDoctorTableClick">
                                    <columns>
                                        <TableColumn fx:id="colDoctorId" text="ID" prefWidth="50"/>
                                        <TableColumn fx:id="colDoctorName" text="Name" prefWidth="150"/>
                                        <TableColumn fx:id="colSpecialization" text="Specialization" prefWidth="150"/>
                                        <TableColumn fx:id="colDepartmentId" text="Dept ID" prefWidth="80"/>
                                    </columns>
                                </TableView>
                            </center>
                            <right>
                                <VBox spacing="10" style="-fx-padding: 10; -fx-background-color: #f4f4f4;">
                                    <Label text="Doctor Details" style="-fx-font-weight: bold;"/>
                                    
                                    <Label text="Name:"/>
                                    <TextField fx:id="txtDoctorName"/>
                                    
                                    <Label text="Specialization:"/>
                                    <TextField fx:id="txtSpecialization"/>
                                    
                                    <Label text="Department:"/>
                                    <ComboBox fx:id="comboDepartment" prefWidth="200"/>
                                    
                                    <HBox spacing="10" alignment="CENTER">
                                        <Button text="Add" onAction="#handleAddDoctor" style="-fx-base: #4CAF50;"/>
                                        <Button text="Update" onAction="#handleUpdateDoctor" style="-fx-base: #2196F3;"/>
                                        <Button text="Delete" onAction="#handleDeleteDoctor" style="-fx-base: #F44336;"/>
                                    </HBox>
                                </VBox>
                            </right>
                        </BorderPane>
                    </content>
                </Tab>
                
                <!-- Appointments Tab -->
                <Tab text="Appointments">
                    <content>
                        <BorderPane>
                            <top>
                                <HBox spacing="10" alignment="CENTER_LEFT" style="-fx-padding: 10;">
                                    <Label text="Search:"/>
                                    <TextField fx:id="appointmentSearchField" promptText="ID or Status"/>
                                    <Button text="Search" onAction="#handleAppointmentSearch"/>
                                    <Button text="Reset Search" onAction="#handleResetAppointmentSearch" style="-fx-base: #FF9800;"/>
                                </HBox>
                            </top>
                            <center>
                                <TableView fx:id="appointmentTable" onMouseClicked="#handleAppointmentTableClick">
                                    <columns>
                                        <TableColumn fx:id="colAppointmentId" text="ID" prefWidth="50"/>
                                        <TableColumn fx:id="colAppointmentPatient" text="Patient ID" prefWidth="80"/>
                                        <TableColumn fx:id="colAppointmentDoctor" text="Doctor ID" prefWidth="80"/>
                                        <TableColumn fx:id="colAppointmentDate" text="Date &amp; Time" prefWidth="150"/>
                                        <TableColumn fx:id="colAppointmentStatus" text="Status" prefWidth="100"/>
                                    </columns>
                                </TableView>
                            </center>
                            <right>
                                <VBox spacing="10" style="-fx-padding: 10; -fx-background-color: #f4f4f4;">
                                    <Label text="Appointment Details" style="-fx-font-weight: bold;"/>
                                    
                                    <Label text="Patient:"/>
                                    <ComboBox fx:id="comboAppointmentPatient" prefWidth="200"/>
                                    
                                    <Label text="Doctor:"/>
                                    <ComboBox fx:id="comboAppointmentDoctor" prefWidth="200"/>
                                    
                                    <Label text="Date:"/>
                                    <DatePicker fx:id="dateAppointmentDate" prefWidth="200"/>
                                    
                                    <Label text="Time (HH:MM):"/>
                                    <TextField fx:id="txtAppointmentTime" promptText="09:00" prefWidth="200"/>
                                    
                                    <Label text="Status:"/>
                                    <ComboBox fx:id="comboAppointmentStatus" prefWidth="200"/>
                                    
                                    <Label text="Notes/Reason:"/>
                                    <TextArea fx:id="txtAppointmentNotes" prefRowCount="3" prefWidth="200" wrapText="true"/>
                                    
                                    <HBox spacing="10" alignment="CENTER">
                                        <Button text="Add" onAction="#handleAddAppointment" style="-fx-base: #4CAF50;"/>
                                        <Button text="Update" onAction="#handleUpdateAppointment" style="-fx-base: #2196F3;"/>
                                        <Button text="Delete" onAction="#handleDeleteAppointment" style="-fx-base: #F44336;"/>
                                    </HBox>
                                </VBox>
                            </right>
                        </BorderPane>
                    </content>
                </Tab>
            </tabs>
        </TabPane>
    </center>
    <bottom>
        <HBox style="-fx-padding: 5;">
            <Label fx:id="lblStatus" text="Ready"/>
        </HBox>
    </bottom>
</BorderPane>

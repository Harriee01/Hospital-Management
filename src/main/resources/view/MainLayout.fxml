<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns:fx="http://javafx.com/fxml" fx:controller="com.hospital.controller.MainController" style="-fx-background-color: #070F12;">
    <center>
        <TabPane tabClosingPolicy="UNAVAILABLE" style="-fx-background-color: #003B46;">
            <tabs>
                <!-- Patients Tab -->
                <Tab text="Patients">
                    <content>
                        <BorderPane style="-fx-background-color: #070F12;">
                            <top>
                                <HBox spacing="10" alignment="CENTER_LEFT" style="-fx-padding: 15; -fx-background-color: #003B46;">
                                    <Label text="Search:" style="-fx-text-fill: #FFFFFF; -fx-font-size: 14px;"/>
                                    <TextField fx:id="searchField" promptText="Name or ID" style="-fx-background-color: #FFFFFF; -fx-text-fill: #070F12;"/>
                                    <Button text="Search" onAction="#handleSearch" style="-fx-background-color: #006770; -fx-text-fill: #FFFFFF; -fx-font-weight: bold; -fx-pref-width: 80;"/>
                                    <Button text="Reset Search" onAction="#handleResetPatientSearch" style="-fx-background-color: #006770; -fx-text-fill: #FFFFFF; -fx-font-weight: bold; -fx-pref-width: 100;"/>
                                </HBox>
                            </top>
                            <center>
                                <TableView fx:id="patientTable" onMouseClicked="#handleTableClick" style="-fx-background-color: #003B46;">
                                    <columns>
                                        <TableColumn fx:id="colId" text="ID" prefWidth="50"/>
                                        <TableColumn fx:id="colName" text="Name" prefWidth="150"/>
                                        <TableColumn fx:id="colDob" text="Date of Birth" prefWidth="100"/>
                                        <TableColumn fx:id="colContact" text="Contact" prefWidth="100"/>
                                    </columns>
                                </TableView>
                            </center>
                            <right>
                                <VBox spacing="12" style="-fx-padding: 15; -fx-background-color: #003B46;">
                                    <Label text="Patient Details" style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #FFFFFF;"/>
                                    
                                    <Label text="Name:" style="-fx-text-fill: #FFFFFF;"/>
                                    <TextField fx:id="txtName" style="-fx-background-color: #FFFFFF; -fx-text-fill: #070F12;"/>
                                    
                                    <Label text="Date of Birth:" style="-fx-text-fill: #FFFFFF;"/>
                                    <DatePicker fx:id="dateDob" style="-fx-background-color: #FFFFFF;"/>
                                    
                                    <Label text="Contact:" style="-fx-text-fill: #FFFFFF;"/>
                                    <TextField fx:id="txtContact" style="-fx-background-color: #FFFFFF; -fx-text-fill: #070F12;"/>
                                    
                                    <HBox spacing="10" alignment="CENTER">
                                        <Button text="Add" onAction="#handleAddPatient" style="-fx-background-color: #006770; -fx-text-fill: #FFFFFF; -fx-font-weight: bold; -fx-pref-width: 70;"/>
                                        <Button text="Update" onAction="#handleUpdatePatient" style="-fx-background-color: #006770; -fx-text-fill: #FFFFFF; -fx-font-weight: bold; -fx-pref-width: 70;"/>
                                        <Button text="Delete" onAction="#handleDeletePatient" style="-fx-background-color: #006770; -fx-text-fill: #FFFFFF; -fx-font-weight: bold; -fx-pref-width: 70;"/>
                                    </HBox>
                                    <Button text="Add Medical Note" onAction="#handleAddMedicalNote" style="-fx-background-color: #006770; -fx-text-fill: #FFFFFF; -fx-font-weight: bold; -fx-pref-width: 200;"/>
                                </VBox>
                            </right>
                        </BorderPane>
                    </content>
                </Tab>
                
                <!-- Doctors Tab -->
                <Tab text="Doctors">
                    <content>
                        <BorderPane style="-fx-background-color: #070F12;">
                            <top>
                                <HBox spacing="10" alignment="CENTER_LEFT" style="-fx-padding: 15; -fx-background-color: #003B46;">
                                    <Label text="Search:" style="-fx-text-fill: #FFFFFF; -fx-font-size: 14px;"/>
                                    <TextField fx:id="doctorSearchField" promptText="Name, Specialization, or ID" style="-fx-background-color: #FFFFFF; -fx-text-fill: #070F12;"/>
                                    <Button text="Search" onAction="#handleDoctorSearch" style="-fx-background-color: #006770; -fx-text-fill: #FFFFFF; -fx-font-weight: bold; -fx-pref-width: 80;"/>
                                    <Button text="Reset Search" onAction="#handleResetDoctorSearch" style="-fx-background-color: #006770; -fx-text-fill: #FFFFFF; -fx-font-weight: bold; -fx-pref-width: 100;"/>
                                </HBox>
                            </top>
                            <center>
                                <TableView fx:id="doctorTable" onMouseClicked="#handleDoctorTableClick" style="-fx-background-color: #003B46;">
                                    <columns>
                                        <TableColumn fx:id="colDoctorId" text="ID" prefWidth="50"/>
                                        <TableColumn fx:id="colDoctorName" text="Name" prefWidth="150"/>
                                        <TableColumn fx:id="colSpecialization" text="Specialization" prefWidth="150"/>
                                        <TableColumn fx:id="colDepartmentId" text="Dept ID" prefWidth="80"/>
                                    </columns>
                                </TableView>
                            </center>
                            <right>
                                <VBox spacing="12" style="-fx-padding: 15; -fx-background-color: #003B46;">
                                    <Label text="Doctor Details" style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #FFFFFF;"/>
                                    
                                    <Label text="Name:" style="-fx-text-fill: #FFFFFF;"/>
                                    <TextField fx:id="txtDoctorName" style="-fx-background-color: #FFFFFF; -fx-text-fill: #070F12;"/>
                                    
                                    <Label text="Specialization:" style="-fx-text-fill: #FFFFFF;"/>
                                    <TextField fx:id="txtSpecialization" style="-fx-background-color: #FFFFFF; -fx-text-fill: #070F12;"/>
                                    
                                    <Label text="Department:" style="-fx-text-fill: #FFFFFF;"/>
                                    <ComboBox fx:id="comboDepartment" prefWidth="200" style="-fx-background-color: #FFFFFF;"/>
                                    
                                    <HBox spacing="10" alignment="CENTER">
                                        <Button text="Add" onAction="#handleAddDoctor" style="-fx-background-color: #006770; -fx-text-fill: #FFFFFF; -fx-font-weight: bold; -fx-pref-width: 70;"/>
                                        <Button text="Update" onAction="#handleUpdateDoctor" style="-fx-background-color: #006770; -fx-text-fill: #FFFFFF; -fx-font-weight: bold; -fx-pref-width: 70;"/>
                                        <Button text="Delete" onAction="#handleDeleteDoctor" style="-fx-background-color: #006770; -fx-text-fill: #FFFFFF; -fx-font-weight: bold; -fx-pref-width: 70;"/>
                                    </HBox>
                                </VBox>
                            </right>
                        </BorderPane>
                    </content>
                </Tab>
                
                <!-- Appointments Tab -->
                <Tab text="Appointments">
                    <content>
                        <BorderPane style="-fx-background-color: #070F12;">
                            <top>
                                <HBox spacing="10" alignment="CENTER_LEFT" style="-fx-padding: 15; -fx-background-color: #003B46;">
                                    <Label text="Search:" style="-fx-text-fill: #FFFFFF; -fx-font-size: 14px;"/>
                                    <TextField fx:id="appointmentSearchField" promptText="ID or Status" style="-fx-background-color: #FFFFFF; -fx-text-fill: #070F12;"/>
                                    <Button text="Search" onAction="#handleAppointmentSearch" style="-fx-background-color: #006770; -fx-text-fill: #FFFFFF; -fx-font-weight: bold; -fx-pref-width: 80;"/>
                                    <Button text="Reset Search" onAction="#handleResetAppointmentSearch" style="-fx-background-color: #006770; -fx-text-fill: #FFFFFF; -fx-font-weight: bold; -fx-pref-width: 100;"/>
                                </HBox>
                            </top>
                            <center>
                                <TableView fx:id="appointmentTable" onMouseClicked="#handleAppointmentTableClick" style="-fx-background-color: #003B46;">
                                    <columns>
                                        <TableColumn fx:id="colAppointmentId" text="ID" prefWidth="50"/>
                                        <TableColumn fx:id="colAppointmentPatient" text="Patient ID" prefWidth="80"/>
                                        <TableColumn fx:id="colAppointmentDoctor" text="Doctor ID" prefWidth="80"/>
                                        <TableColumn fx:id="colAppointmentDate" text="Date &amp; Time" prefWidth="150"/>
                                        <TableColumn fx:id="colAppointmentStatus" text="Status" prefWidth="100"/>
                                    </columns>
                                </TableView>
                            </center>
                            <right>
                                <VBox spacing="12" style="-fx-padding: 15; -fx-background-color: #003B46;">
                                    <Label text="Appointment Details" style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #FFFFFF;"/>
                                    
                                    <Label text="Patient:" style="-fx-text-fill: #FFFFFF;"/>
                                    <ComboBox fx:id="comboAppointmentPatient" prefWidth="200" style="-fx-background-color: #FFFFFF;"/>
                                    
                                    <Label text="Doctor:" style="-fx-text-fill: #FFFFFF;"/>
                                    <ComboBox fx:id="comboAppointmentDoctor" prefWidth="200" style="-fx-background-color: #FFFFFF;"/>
                                    
                                    <Label text="Date:" style="-fx-text-fill: #FFFFFF;"/>
                                    <DatePicker fx:id="dateAppointmentDate" prefWidth="200" style="-fx-background-color: #FFFFFF;"/>
                                    
                                    <Label text="Time (HH:MM):" style="-fx-text-fill: #FFFFFF;"/>
                                    <TextField fx:id="txtAppointmentTime" promptText="09:00" prefWidth="200" style="-fx-background-color: #FFFFFF; -fx-text-fill: #070F12;"/>
                                    
                                    <Label text="Status:" style="-fx-text-fill: #FFFFFF;"/>
                                    <ComboBox fx:id="comboAppointmentStatus" prefWidth="200" style="-fx-background-color: #FFFFFF;"/>
                                    
                                    <Label text="Notes/Reason:" style="-fx-text-fill: #FFFFFF;"/>
                                    <TextArea fx:id="txtAppointmentNotes" prefRowCount="3" prefWidth="200" wrapText="true" style="-fx-background-color: #FFFFFF; -fx-text-fill: #070F12;"/>
                                    
                                    <HBox spacing="10" alignment="CENTER">
                                        <Button text="Add" onAction="#handleAddAppointment" style="-fx-background-color: #006770; -fx-text-fill: #FFFFFF; -fx-font-weight: bold; -fx-pref-width: 70;"/>
                                        <Button text="Update" onAction="#handleUpdateAppointment" style="-fx-background-color: #006770; -fx-text-fill: #FFFFFF; -fx-font-weight: bold; -fx-pref-width: 70;"/>
                                        <Button text="Delete" onAction="#handleDeleteAppointment" style="-fx-background-color: #006770; -fx-text-fill: #FFFFFF; -fx-font-weight: bold; -fx-pref-width: 70;"/>
                                    </HBox>
                                </VBox>
                            </right>
                        </BorderPane>
                    </content>
                </Tab>
            </tabs>
        </TabPane>
    </center>
    <bottom>
        <HBox style="-fx-padding: 10; -fx-background-color: #003B46;">
            <Label fx:id="lblStatus" text="Ready" style="-fx-text-fill: #FFFFFF; -fx-font-size: 12px;"/>
        </HBox>
    </bottom>
</BorderPane>
